
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17: http://docutils.sourceforge.net/" />

    <title>ReadMe &#8212; scalecast 0.5.6 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/haiku.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.20.0/dist/embed-amd.js"></script>
    <link rel="shortcut icon" href="_static/logo2.png"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="eCommerce Example" href="Forecaster/examples/eCommerce.html" />
    <link rel="prev" title="Official Docs" href="index.html" /> 
  </head><body>
      <div class="header" role="banner">
        <a href="index.html">
          <img class="logo" src="_static/logo2.png" alt="Logo"/>
        </a>
      </div>
      <div class="topnav" role="navigation" aria-label="top navigation">
      
        <p>
        «&#160;&#160;<a href="index.html">Official Docs</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="Forecaster/examples/eCommerce.html">eCommerce Example</a>&#160;&#160;»
        </p>

      </div>
      <div class="content" role="main">
        
        
  <section id="readme">
<h1>ReadMe<a class="headerlink" href="#readme" title="Permalink to this headline">¶</a></h1>
</section>
<section id="scalecast-dynamic-forecasting-at-scale">
<h1>🌄 Scalecast: Dynamic Forecasting at Scale<a class="headerlink" href="#scalecast-dynamic-forecasting-at-scale" title="Permalink to this headline">¶</a></h1>
<p align="center">
  <img src="https://github.com/mikekeith52/scalecast/blob/main/assets/logo2.png" />
</p><section id="about">
<h2>About<a class="headerlink" href="#about" title="Permalink to this headline">¶</a></h2>
<p>This package uses a scaleable forecasting approach in Python with <a class="reference external" href="https://scikit-learn.org/stable/">scikit-learn</a>, <a class="reference external" href="https://www.statsmodels.org/stable/">statsmodels</a>, <a class="reference external" href="https://facebook.github.io/prophet/">Facebook Prophet</a>, <a class="reference external" href="https://lightgbm.readthedocs.io/en/latest/">Microsoft LightGBM</a>, <a class="reference external" href="https://engineering.linkedin.com/blog/2021/greykite--a-flexible--intuitive--and-fast-forecasting-library">LinkedIn Silverkite</a>, and <a class="reference external" href="https://keras.io/">Keras</a> models to forecast time series. Use your own regressors or load the object with its own seasonal, auto-regressive, and other regressors, or combine all of the above. All forecasting is dynamic by default so that auto-regressive terms can be used without leaking data into the test set, setting it apart from other time-series libraries. Dynamic model testing can be disabled to improve model evaluation speed. Differencing to achieve stationarity is built into the library and metrics can be compared across the time series’ original level or first or second difference. Bootstrapped confidence intervals consistently applied across all models for comparable results. This library was written to easily apply and compare many forecasts fairly across the same series.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">pandas_datareader</span> <span class="k">as</span> <span class="nn">pdr</span>
<span class="kn">from</span> <span class="nn">scalecast</span> <span class="kn">import</span> <span class="n">GridGenerator</span>
<span class="kn">from</span> <span class="nn">scalecast.Forecaster</span> <span class="kn">import</span> <span class="n">Forecaster</span>

<span class="n">models</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;mlr&#39;</span><span class="p">,</span><span class="s1">&#39;knn&#39;</span><span class="p">,</span><span class="s1">&#39;svr&#39;</span><span class="p">,</span><span class="s1">&#39;xgboost&#39;</span><span class="p">,</span><span class="s1">&#39;elasticnet&#39;</span><span class="p">,</span><span class="s1">&#39;mlp&#39;</span><span class="p">,</span><span class="s1">&#39;prophet&#39;</span><span class="p">)</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pdr</span><span class="o">.</span><span class="n">get_data_fred</span><span class="p">(</span><span class="s1">&#39;HOUSTNSA&#39;</span><span class="p">,</span><span class="n">start</span><span class="o">=</span><span class="s1">&#39;2009-01-01&#39;</span><span class="p">,</span><span class="n">end</span><span class="o">=</span><span class="s1">&#39;2021-06-01&#39;</span><span class="p">)</span>
<span class="n">GridGenerator</span><span class="o">.</span><span class="n">get_example_grids</span><span class="p">()</span> <span class="c1"># saves Grids.py with validation grids for each model that can be used to tune the forecasts</span>
<span class="n">f</span> <span class="o">=</span> <span class="n">Forecaster</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">HOUSTNSA</span><span class="p">,</span><span class="n">current_dates</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">)</span> <span class="c1"># to initialize, specify y and current_dates (must be arrays of the same length)</span>
<span class="n">f</span><span class="o">.</span><span class="n">set_test_length</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span> <span class="c1"># specify a test length for your models - do this before eda</span>
<span class="n">f</span><span class="o">.</span><span class="n">generate_future_dates</span><span class="p">(</span><span class="mi">24</span><span class="p">)</span> <span class="c1"># this will create future dates that are on the same interval as the current dates and it will also set the forecast length</span>
<span class="n">f</span><span class="o">.</span><span class="n">add_ar_terms</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="c1"># add AR terms before differencing</span>
<span class="n">f</span><span class="o">.</span><span class="n">add_AR_terms</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">12</span><span class="p">))</span> <span class="c1"># seasonal AR terms</span>
<span class="n">f</span><span class="o">.</span><span class="n">integrate</span><span class="p">()</span> <span class="c1"># automatically decides if the y term and all ar terms should be differenced to make the series stationary</span>
<span class="n">f</span><span class="o">.</span><span class="n">add_seasonal_regressors</span><span class="p">(</span><span class="s1">&#39;month&#39;</span><span class="p">,</span><span class="n">raw</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">sincos</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="c1"># uses pandas attributes: raw=True creates integers (default), sincos=True creates wave functions</span>
<span class="n">f</span><span class="o">.</span><span class="n">add_seasonal_regressors</span><span class="p">(</span><span class="s1">&#39;year&#39;</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">add_covid19_regressor</span><span class="p">()</span> <span class="c1"># dates are flexible, default is from when disney world closed to when US CDC lifted mask recommendations</span>
<span class="n">f</span><span class="o">.</span><span class="n">add_time_trend</span><span class="p">()</span>
<span class="n">f</span><span class="o">.</span><span class="n">set_validation_length</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span> <span class="c1"># length, different than test_length, to tune the hyperparameters</span>
<span class="n">f</span><span class="o">.</span><span class="n">tune_test_forecast</span><span class="p">(</span><span class="n">models</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">plot_test_set</span><span class="p">(</span><span class="n">models</span><span class="o">=</span><span class="s1">&#39;top_3&#39;</span><span class="p">,</span><span class="n">order_by</span><span class="o">=</span><span class="s1">&#39;LevelTestSetMAPE&#39;</span><span class="p">,</span><span class="n">ci</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="c1"># plots the differenced test set with confidence intervals</span>
<span class="n">f</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">order_by</span><span class="o">=</span><span class="s1">&#39;LevelTestSetMAPE&#39;</span><span class="p">,</span><span class="n">level</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="c1"># plots the level forecast</span>
</pre></div>
</div>
<a class="reference external image-reference" href="https://github.com/mikekeith52/scalecast/blob/main/assets/main_forecast_test_set.png"><img alt="" src="https://github.com/mikekeith52/scalecast/blob/main/assets/main_forecast_test_set.png" /></a>
<a class="reference external image-reference" href="https://github.com/mikekeith52/scalecast/blob/main/assets/main_forecast.png"><img alt="" src="https://github.com/mikekeith52/scalecast/blob/main/assets/main_forecast.png" /></a>
</section>
<section id="why-switch-to-scalecast">
<h2>Why switch to Scalecast?<a class="headerlink" href="#why-switch-to-scalecast" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>The modeling process is streamlined for forecasting tasks. If you have ever written code to forecast with sklearn or TensorFlow, scalecast will let you implement a similar model but with much less code.</p></li>
<li><p>Many of the simpler available models are faster to evaluate and just as accurate as Prophet, TensorFlow, and other libraries. You can benchmark many models and compare what is best for your task.</p></li>
<li><p>It consistently applies bootstrapped confidence intervals at any level you want to see them.</p></li>
<li><p>Your results and accuracy metrics can always be level, even if you need to difference the series to model it effectively.</p></li>
<li><p>Dynamic forecasting, where lagged dependent-variable values are propogated forward for prediction-making, is easier than ever.</p></li>
</ul>
</section>
<section id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">scalecast</span></code></p>
<ul class="simple">
<li><p>installs the base package and most dependencies</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">fbprophet</span></code></p>
<ul class="simple">
<li><p>only necessary if you plan to forecast with Facebook prophet models</p></li>
<li><p>to resolve a common installation issue, see this <a class="reference external" href="https://stackoverflow.com/questions/49889404/fbprophet-installation-error-failed-building-wheel-for-fbprophet">Stack Overflow post</a></p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">greykite</span></code></p>
<ul class="simple">
<li><p>only necessary if you plan to forecast with LinkedIn Silverkite</p></li>
</ul>
</li>
<li><p>If using notebook:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">tqdm</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">ipython</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">ipywidgets</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">jupyter</span> <span class="pre">nbextension</span> <span class="pre">enable</span> <span class="pre">--py</span> <span class="pre">widgetsnbextension</span></code></p></li>
<li><p>if using Jupyter Lab: <code class="docutils literal notranslate"><span class="pre">jupyter</span> <span class="pre">labextension</span> <span class="pre">install</span> <span class="pre">&#64;jupyter-widgets/jupyterlab-manager</span></code></p></li>
</ul>
</li>
</ol>
</section>
<section id="initialization">
<h2>Initialization<a class="headerlink" href="#initialization" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">scalecast.Forecaster</span> <span class="kn">import</span> <span class="n">Forecaster</span>
<span class="n">array_of_dates</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;2021-01-01&#39;</span><span class="p">,</span><span class="s1">&#39;2021-01-02&#39;</span><span class="p">,</span><span class="s1">&#39;2021-01-03&#39;</span><span class="p">]</span>
<span class="n">array_of_values</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
<span class="n">f</span> <span class="o">=</span> <span class="n">Forecaster</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="n">array_of_values</span><span class="p">,</span> <span class="n">current_dates</span><span class="o">=</span><span class="n">array_of_dates</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="links">
<h2>Links<a class="headerlink" href="#links" title="Permalink to this headline">¶</a></h2>
<table class="docutils align-default">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Links</p></th>
<th class="head"></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference external" href="https://scalecast.readthedocs.io/en/latest/">📚 Read the Docs</a></p></td>
<td><p>Read the docs</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="https://github.com/mikekeith52/scalecast/tree/main/examples">📋 Examples</a></p></td>
<td><p>Get straight to the process</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="https://towardsdatascience.com/exploring-the-lstm-neural-network-model-for-time-series-8b7685aa8cf">💻 Towards Data Science Latest</a></p></td>
<td><p>Check out the new LSTM Recurrent Neural Net application</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="https://towardsdatascience.com/introducing-scalecast-a-forecasting-library-pt-1-33b556d9b019">➡ Towards Data Science Series</a></p></td>
<td><p>Read the introductory 3-part series</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="https://mybinder.org/v2/gh/mikekeith52/housing_prices/HEAD?filepath=housing_prices.ipynb">📓 Binder Notebook</a></p></td>
<td><p>Play with an example in your browser</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="https://github.com/mikekeith52/scalecast/blob/main/docs/change_log.md">🛠️ Change Log</a></p></td>
<td><p>See what’s changed</p></td>
</tr>
</tbody>
</table>
</section>
</section>


      </div>
      <div class="bottomnav" role="navigation" aria-label="bottom navigation">
      
        <p>
        «&#160;&#160;<a href="index.html">Official Docs</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="Forecaster/examples/eCommerce.html">eCommerce Example</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2022, Michael Keith.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.0.1.
    </div>
  </body>
</html>